<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!-- BEGIN PAGE CONTAINER-->
<div class="container-fluid p-t-20">
	<div class="row-fluid">
		<div class="span12">									
			
			<div class="portlet box blue">

				<div class="portlet-title">
					<div class="caption"><i class="icon-cogs"></i>公司信息发布管理</div>
					<div class="actions">
						<a id="message-add" href="javascript://" class="btn green"><i class="icon-pencil"></i>&nbsp;&nbsp;新增信息</a>
					</div>
				</div>

				<div class="portlet-body">
					<!--BEGIN TABS-->
					<div class="tabbable tabbable-custom tabs-left">
						<ul class="nav nav-tabs tabs-left">
							<li class="active"><a href="#tab_4_1" data-toggle="tab">公司公告</a></li>
							<li ><a href="#tab_4_2" data-toggle="tab">公司制度</a></li>
							<li><a href="#tab_4_3" data-toggle="tab">销售说辞</a></li>
							<li><a href="#tab_4_4" data-toggle="tab">银行产品</a></li>
						</ul>

						<div class="tab-content">
							<div class="tab-pane active" id="tab_4_1">
								<table class="table table-hover" id="gg-table"  width="100%">
									<thead>
										<tr>
											<th width="5%">#</th>
											<th width="50%">公告标题</th>
											<th width="25%">发布时间</th>														
											<th width="20%">操作</th>
										</tr>
									</thead>
									<tbody>
										<tr id="row-message-1">
											<td>1</td>
											<td><a id="message-title-1" href="javascript://">公司公告标题1省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-1" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-1" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-2">
											<td>1</td>
											<td><a id="message-title-2" href="javascript://">公司公告标题2省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-2" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-2" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
									</tbody>

								</table>


							</div>
							<div class="tab-pane " id="tab_4_2">
								<table class="table table-hover" id="zd-table" width="100%">
									<thead>
										<tr>
											<th width="5%">#</th>
											<th width="50%">制度标题</th>
											<th width="25%">发布时间</th>														
											<th width="20%">操作</th>
										</tr>
									</thead>
									<tbody>
										<tr id="row-message-3">
											<td>1</td>
											<td><a id="message-title-3" href="javascript://">公司制度标题3省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-3" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-3" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-4">
											<td>1</td>
											<td><a id="message-title-4" href="javascript://">公司制度标题4省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-4" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-4" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
									</tbody>
								</table>
							</div>

							<div class="tab-pane" id="tab_4_3">	
								<table class="table table-hover" id="xssc-table"  width="100%">
									<thead>
										<tr>
											<th width="5%">#</th>
											<th width="50%">销售说辞标题</th>
											<th width="25%">发布时间</th>														
											<th width="20%">操作</th>
										</tr>
									</thead>
									<tbody>
										<tr id="row-message-5">
											<td>1</td>
											<td><a id="message-title-5" href="javascript://">公司制度标题5省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-5" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-5" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-6">
											<td>1</td>
											<td><a id="message-title-6" href="javascript://">公司制度标题6省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-6" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-6" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
									</tbody>
								</table>
							</div>
							<div class="tab-pane" id="tab_4_4">	
								<table class="table table-hover" id="yhcp-table"  width="100%">
									<thead>
										<tr>
											<th width="5%">#</th>
											<th width="50%">银行产品标题</th>
											<th width="25%">发布时间</th>														
											<th width="20%">操作</th>
										</tr>
									</thead>
									<tbody>
										<tr id="row-message-7">
											<td>1</td>
											<td><a id="message-title-7" href="javascript://">银行产品标题7省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-7" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-7" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
										<tr id="row-message-8">
											<td>1</td>
											<td><a id="message-title-8" href="javascript://">公司制度标题8省略省略省略省略省略省略</a></td>
											<td>2015-2-10 17:10</td>
											<td><a id="message-delete-8" class="btn red mini" href="javascript://">删除</a>&nbsp;&nbsp;&nbsp;&nbsp;<a id="message-modify-8" class="btn yellow mini " href="javascript://">修改</a></td>												
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<!--结束：Tab Contents-->		
					</div>
					<!--END TABS-->
				</div>							
			</div>
			<!--结束：portlet-->	
			
			<!--开始：信息新增对话框 -->
			<div id="dialog-message-add" class="modal hide">
				<div class="modal-dialog">
					<div class="modal-content">
						 <div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title t-14">添加新的<span data-jdy="message-type"></span></h4>
						 </div>
						 <div class="modal-body">
							<p><span data-jdy="message-type"></span>标题：<input style="width: 95%" id="dialog-message-title" type="text" /></p>
							<p><span data-jdy="message-type"></span>内容：<textarea id="dialog-message-content"  style=" display: block; width:95%" rows="8"></textarea></p>										
						 </div>
						 <div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							<button type="button" class="btn btn-primary">添加</button>
						 </div>
					</div><!-- /.modal-content -->
				 </div><!-- /.modal-dialog -->
			</div>
			<!--结束：信息新增对话框 -->						
			
			<!--开始：信息详情对话框 -->
			<div id="dialog-message-details" class="modal hide">
				<div class="modal-dialog">
					<div class="modal-content">
						 <div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title t-14"><span class="hide" id="dialog-message-id"></span><input style="width: 90%" id="dialog-message-title" type="text" /></h4>
						 </div>
						 <div class="modal-body">										
							<textarea id="dialog-message-content" style=" display: block; width:98%" rows="8"></textarea>
							<p class="text-right"><span id="dialog-message-poster"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span id="dialog-message-postTime"></span></p>
						 </div>
						 <div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
							<button type="button" class="btn btn-primary">修改</button>
						 </div>
					</div><!-- /.modal-content -->
				 </div><!-- /.modal-dialog -->
			</div>
			<!--结束：信息详情对话框 -->
			
		</div>
		<!--结束：第1行第1列-->		
	</div>
	<!--结束：第1行-->		
</div>
<!-- END PAGE CONTAINER--> 


<script>
jQuery(document).ready(function() {    

	$("[id^='menu-item-']").click(function(){
		$("[id^='menu-item-']").removeClass("active");
		$(this).addClass("active");
		$("[id^='menu-item-']").find("a span[class='selected']").remove();
		$("[id^='menu-item-']").find("a span[class^='arrow']").removeClass("open");
		$(this).find("a").append("<span class=\"selected\"></span>");
		$(this).find("a span[class^='arrow']").addClass("open");
	});
	
	$("a#message-add").on('click', function() {							
		$("#dialog-message-add span[ data-jdy='message-type']").html($(".nav-tabs .active a").html());
		$("#dialog-message-add").modal("show").css("margin-top", "80px"); 					
	});
	
	$("a[id^='message-delete-']").on("click", function(){
		var mId = $(this).attr("id").substr($(this).attr("id").lastIndexOf("-") + 1);		
		var $rowMessage = $("#row-message-"+ mId);				
		var mTitle = $rowMessage.find("td:eq(1) a").html();
		jdyConfirm("确定是否要删除“" + mTitle + "”？", function(){
			
		});
	});
	
	$("a[id^='message-title-'], a[id^='message-modify-']").on('click', function() {				
		var mId = $(this).attr("id").substr($(this).attr("id").lastIndexOf("-") + 1);			
		var $rowMessage = $("#row-message-"+ mId);				
		var mTitle = $rowMessage.find("td:eq(1) a").html();				
		var mPostTime = $rowMessage.find("td:eq(2)").html();
		var mPoster = "发布人姓名（模拟通过ajax获得）";
		var mContent = "信息内容，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……，模拟通过ajax获得……";				
		$("#dialog-message-details #dialog-message-id").html(mId);
		$("#dialog-message-details #dialog-message-title").val(mTitle);
		$("#dialog-message-details #dialog-message-content").val(mContent);
		$("#dialog-message-details #dialog-message-postTime").html(mPostTime);
		$("#dialog-message-details #dialog-message-poster").html(mPoster);
		$("#dialog-message-details").modal("show").css("margin-top", "80px"); 					
	});

	var templeteTable = {
		"bSort": false,				
		"bLengthChange": false,
		"bFilter": false,				
              // set the initial value
              "iDisplayLength": 8,
              "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
              "sPaginationType": "bootstrap",
              "oLanguage": {               
			"sLengthMenu": "每页显示 _MENU_ 条记录",
			"sZeroRecords": "抱歉， 没有找到",
			"sInfo": "从 _START_ 到 _END_ /共 _TOTAL_ 条数据",
			"sInfoEmpty": "没有数据",
			"sInfoFiltered": "(从 _MAX_ 条数据中检索)",
			"oPaginate": {
				"sFirst": "首页",
				"sPrevious": "前一页",
				"sNext": "后一页",
				"sLast": "尾页"
			}
              }
          }	
	$('#gg-table').dataTable(templeteTable);
	$('#zd-table').dataTable(templeteTable);
	$('#xssc-table').dataTable(templeteTable);
	$('#yhcp-table').dataTable(templeteTable);
});

function jdyConfirm(content, callback) {
	var html = "";
	html += "<div id=\"static\" class=\"modal hide\"  data-backdrop=\"static\" data-keyboard=\"false\">"
	html += "<div class=\"modal-body\">"
	html += "<p>" + content + "</p>"
	html += "</div>"
	html += "<div class=\"modal-footer\">"
	html += "<button type=\"button\" data-dismiss=\"modal\" class=\"btn\">取消</button>"
	html += "<button id=\"message-delete-confirm\" type=\"button\" data-dismiss=\"modal\" class=\"btn red\">确定</button>"
	html += "</div>"
	html += "</div>	"	
	$(html).modal().css("margin-top", "80px");
	$("#message-delete-confirm").on("click", callback);			
}
</script>